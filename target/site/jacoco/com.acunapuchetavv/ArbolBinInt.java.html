<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>ArbolBinInt.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">testingunidad</a> &gt; <a href="index.source.html" class="el_package">com.acunapuchetavv</a> &gt; <span class="el_source">ArbolBinInt.java</span></div><h1>ArbolBinInt.java</h1><pre class="source lang-java linenums">/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package com.acunapuchetavv;

<span class="fc" id="L8">public class ArbolBinInt {</span>

    //Se cambió de Private a Public para poder testear
    public NodoArbolInt raiz;

    public boolean insertar(int padre, int elem, char pos) {
<span class="fc" id="L14">        boolean exito = true;</span>
<span class="fc bfc" id="L15" title="All 2 branches covered.">        if (this.raiz == null) {</span>
<span class="fc" id="L16">            this.raiz = new NodoArbolInt(elem);</span>
        } else {
<span class="fc" id="L18">            NodoArbolInt nodoPadre = obtenerNodo(this.raiz, padre);</span>
<span class="fc bfc" id="L19" title="All 2 branches covered.">            if (nodoPadre != null) {</span>
<span class="fc bfc" id="L20" title="All 4 branches covered.">                if (pos == 'i' &amp;&amp; nodoPadre.getIzquierdo() == null) {</span>
<span class="fc" id="L21">                    nodoPadre.setIzquierdo(new NodoArbolInt(elem));</span>
<span class="fc bfc" id="L22" title="All 2 branches covered.">                } else if(nodoPadre.getIzquierdo() != null){</span>
<span class="fc" id="L23">                    exito = false;</span>
<span class="pc bpc" id="L24" title="3 of 4 branches missed.">                } else if (pos == 'd' &amp;&amp; nodoPadre.getDerecho() == null) {</span>
<span class="nc" id="L25">                    nodoPadre.setDerecho(new NodoArbolInt(elem));</span>
<span class="pc bpc" id="L26" title="1 of 2 branches missed.">                }else if(nodoPadre.getDerecho() != null){</span>
<span class="nc" id="L27">                    exito = false;</span>
<span class="pc bpc" id="L28" title="2 of 4 branches missed.">                }else if(pos != 'i' &amp;&amp; pos != 'd'){</span>
<span class="fc" id="L29">                    exito = false;</span>
                }
            } else {
<span class="fc" id="L32">                exito = false;</span>
            }
        }
<span class="fc" id="L35">        return exito;</span>
    }

    //Se cambió de Private a Public para poder testear
    public NodoArbolInt obtenerNodo(NodoArbolInt n, int buscado) {
        /* 
        NodoArbolInt resultado = null;
        if (n != null) {
            if (n.getElem() == buscado) {
                resultado = n;
            } else {
                resultado = obtenerNodo(n.getIzquierdo(), buscado);
            }
            if (resultado == null) {
                resultado = obtenerNodo(n.getDerecho(), buscado);
            }
        }
        return resultado;
        */
<span class="fc" id="L54">        return null;</span>
    }

    public boolean esVacio() {
<span class="fc" id="L58">        boolean vacio = true;</span>
<span class="pc bpc" id="L59" title="1 of 2 branches missed.">        if (this.raiz != null) {</span>
<span class="nc" id="L60">            vacio = false;</span>
        }
<span class="fc" id="L62">        return vacio;</span>
    }

    public int padre(int hijo) {
        int esPadre;
<span class="nc" id="L67">        NodoArbolInt padre = padreRecursivo(hijo, this.raiz);</span>
<span class="nc bnc" id="L68" title="All 2 branches missed.">        if (padre == null) {</span>
<span class="nc" id="L69">            esPadre = -1;</span>
        } else {
<span class="nc" id="L71">            esPadre = padreRecursivo(hijo, this.raiz).getElem();</span>
        }
<span class="nc" id="L73">        return esPadre;</span>
    }

    //Para testear se hizo publico
    public NodoArbolInt padreRecursivo(int elem, NodoArbolInt n) {
<span class="fc" id="L78">        NodoArbolInt retornar = null;</span>
<span class="fc bfc" id="L79" title="All 2 branches covered.">        if (n != null) {</span>
<span class="fc bfc" id="L80" title="All 2 branches covered.">            if (n.getDerecho() != null) {</span>
<span class="fc bfc" id="L81" title="All 2 branches covered.">                if (n.getDerecho().getElem() == elem) {</span>
<span class="fc" id="L82">                    retornar = n;</span>
                } else {
<span class="fc" id="L84">                    retornar = padreRecursivo(elem, n.getDerecho());</span>

                }
            }
<span class="fc bfc" id="L88" title="All 2 branches covered.">            if (n.getIzquierdo() != null) {</span>
<span class="pc bpc" id="L89" title="1 of 2 branches missed.">                if (n.getIzquierdo().getElem() == elem) {</span>
<span class="nc" id="L90">                    retornar = n;</span>
                }
            }
<span class="fc bfc" id="L93" title="All 2 branches covered.">            if (retornar == null) {</span>
<span class="fc" id="L94">                retornar = padreRecursivo(elem, n.getIzquierdo());</span>
            }
        }
<span class="fc" id="L97">        return retornar;</span>
    }

    public void vaciar() {
<span class="nc" id="L101">        this.raiz = null;</span>
<span class="nc" id="L102">    }</span>

    public int altura() {
        int p;
<span class="nc" id="L106">        p = alturaRecursiva(this.raiz);</span>
<span class="nc" id="L107">        return p;</span>
    }

    private int alturaRecursiva(NodoArbolInt n) {
<span class="nc" id="L111">        int cont = -1;</span>

<span class="nc bnc" id="L113" title="All 2 branches missed.">        if (n != null) {</span>
<span class="nc" id="L114">            int izq = alturaRecursiva(n.getIzquierdo());</span>
<span class="nc" id="L115">            int der = alturaRecursiva(n.getDerecho());</span>
<span class="nc" id="L116">            cont = Math.max(izq, der) + 1;</span>
        }
<span class="nc" id="L118">        return cont;</span>
    }

    public String toString() {
        String cad;
<span class="nc bnc" id="L123" title="All 2 branches missed.">        if (!this.esVacio()) {</span>
<span class="nc" id="L124">            cad = &quot;raiz: &quot; + this.raiz.getElem() + &quot;\n&quot;;</span>
<span class="nc" id="L125">            cad += &quot;========================\n&quot;;</span>
<span class="nc" id="L126">            cad += stringRecursivo(this.raiz) + &quot;\n&quot;;</span>
        } else {
<span class="nc" id="L128">            cad = &quot;Arbol vacío&quot;;</span>
        }
<span class="nc" id="L130">        return cad;</span>
    }

    private String stringRecursivo(NodoArbolInt n) {
<span class="nc" id="L134">        String cadena = &quot;&quot;;</span>
<span class="nc bnc" id="L135" title="All 2 branches missed.">        if (n != null) {</span>
<span class="nc bnc" id="L136" title="All 2 branches missed.">            if (n.getIzquierdo() != null) {</span>
<span class="nc" id="L137">                cadena += &quot;Nodo: &quot; + n.getElem() + &quot; Hijo Izquierdo: &quot; + n.getIzquierdo().getElem();</span>
            } else {
<span class="nc" id="L139">                cadena += &quot;Nodo: &quot; + n.getElem() + &quot; Hijo Izquierdo: vacio&quot;;</span>
            }
<span class="nc bnc" id="L141" title="All 2 branches missed.">            if (n.getDerecho() != null) {</span>
<span class="nc" id="L142">                cadena += &quot; Hijo Derecho: &quot; + n.getDerecho().getElem();</span>
            } else {
<span class="nc" id="L144">                cadena += &quot; Hijo Derecho: vacio &quot;;</span>
            }
<span class="nc" id="L146">            cadena += &quot;\n&quot;;</span>
<span class="nc bnc" id="L147" title="All 2 branches missed.">            if (n.getIzquierdo() != null) {</span>
<span class="nc" id="L148">                cadena += stringRecursivo(n.getIzquierdo());</span>
            }
<span class="nc bnc" id="L150" title="All 2 branches missed.">            if (n.getDerecho() != null) {</span>
<span class="nc" id="L151">                cadena += stringRecursivo(n.getDerecho());</span>
            }
        }

<span class="nc" id="L155">        return cadena;</span>
    }

//    public int nivel(int n) {
//        return alturaRecursiva(obtenerNodo(this.raiz, n));
//    }
    public Lista preorden() {
<span class="nc" id="L162">        Lista lista = new Lista();</span>
<span class="nc" id="L163">        preordenAux(this.raiz, 1, lista);</span>
<span class="nc" id="L164">        return lista;</span>
    }

    private void preordenAux(NodoArbolInt nodo, int pos, Lista lista) {

<span class="nc bnc" id="L169" title="All 2 branches missed.">        if (nodo != null) {</span>
<span class="nc" id="L170">            lista.insertar(nodo.getElem(), pos);</span>
<span class="nc" id="L171">            preordenAux(nodo.getIzquierdo(), pos + 1, lista);</span>
<span class="nc" id="L172">            preordenAux(nodo.getDerecho(), lista.longitud() + 1, lista);</span>
        }

<span class="nc" id="L175">    }</span>

    public Lista posOrden() {
<span class="nc" id="L178">        Lista lista = new Lista();</span>
<span class="nc" id="L179">        posOrdenAux(this.raiz, lista);</span>
<span class="nc" id="L180">        return lista;</span>
    }

    private void posOrdenAux(NodoArbolInt nodo, Lista lista1) {
<span class="nc bnc" id="L184" title="All 2 branches missed.">        if (nodo != null) {</span>
<span class="nc" id="L185">            posOrdenAux(nodo.getIzquierdo(), lista1);</span>
<span class="nc" id="L186">            posOrdenAux(nodo.getDerecho(), lista1);</span>
<span class="nc" id="L187">            lista1.insertar(nodo.getElem(), lista1.longitud() + 1);</span>
        }
<span class="nc" id="L189">    }</span>

    public Lista inOrden() {
<span class="nc" id="L192">        Lista lista = new Lista();</span>
<span class="nc" id="L193">        inOrdenAux(this.raiz, lista);</span>
<span class="nc" id="L194">        return lista;</span>
    }

    private void inOrdenAux(NodoArbolInt nodo, Lista lista2) {
<span class="nc bnc" id="L198" title="All 2 branches missed.">        if (nodo != null) {</span>
<span class="nc" id="L199">            inOrdenAux(nodo.getIzquierdo(), lista2);</span>
<span class="nc" id="L200">            lista2.insertar(nodo.getElem(), lista2.longitud() + 1);</span>
<span class="nc" id="L201">            inOrdenAux(nodo.getDerecho(), lista2);</span>
        }
<span class="nc" id="L203">    }</span>

    private int nivel(NodoArbolInt nodo, int elem) {
        int x;

<span class="nc bnc" id="L208" title="All 2 branches missed.">        if (nodo == null) {</span>
            //Caso que no se encuentre el elem;
<span class="nc" id="L210">            x = Integer.MIN_VALUE;</span>
<span class="nc bnc" id="L211" title="All 2 branches missed.">        } else if (nodo.getElem() == elem) {</span>
            //Caso base;
<span class="nc" id="L213">            x = 0;</span>
        } else {
<span class="nc" id="L215">            x = nivel(nodo.getIzquierdo(), elem); //Recorre la izq</span>
<span class="nc bnc" id="L216" title="All 2 branches missed.">            if (x == Integer.MIN_VALUE) {</span>
<span class="nc" id="L217">                x = nivel(nodo.getDerecho(), elem); // Recorre la der</span>
            }
        }
<span class="nc bnc" id="L220" title="All 2 branches missed.">        if (x != Integer.MIN_VALUE) {</span>
<span class="nc" id="L221">            x++;</span>
        }
<span class="nc" id="L223">        return x;</span>

    }

    public int nivel(int elem) {

<span class="nc" id="L229">        return nivel(this.raiz, elem) - 1;</span>
    }

    public boolean verificarPatron(Lista listPatron) {
        boolean res;
<span class="nc" id="L234">        res = verificarRec(this.raiz, listPatron, 1);</span>
<span class="nc" id="L235">        return res;</span>
    }

    private boolean verificarRec(NodoArbolInt a, Lista lista, int pos) {
<span class="nc" id="L239">        boolean aux = false;</span>
<span class="nc bnc" id="L240" title="All 2 branches missed.">        if (pos &gt; lista.longitud()) {</span>

<span class="nc" id="L242">            aux = true;</span>
<span class="nc bnc" id="L243" title="All 4 branches missed.">        } else if (a != null &amp;&amp; (a.getElem() == lista.recuperar(pos))) {</span>
<span class="nc" id="L244">            aux = verificarRec(a.getIzquierdo(), lista, pos + 1);</span>
<span class="nc bnc" id="L245" title="All 2 branches missed.">            if (!aux) {</span>
<span class="nc" id="L246">                aux = verificarRec(a.getDerecho(), lista, pos + 1);</span>
            }
        }
<span class="nc" id="L249">        return aux;</span>
    }

    public Lista frontera() {
<span class="nc" id="L253">        Lista lista = new Lista();</span>
<span class="nc" id="L254">        System.out.println(lista);</span>
<span class="nc" id="L255">        int pos = 1;</span>
<span class="nc" id="L256">        fronteraRec(this.raiz, lista, pos);</span>

<span class="nc" id="L258">        return lista;</span>
    }

    private void fronteraRec(NodoArbolInt a, Lista lista2, int pos) {
<span class="nc bnc" id="L262" title="All 2 branches missed.">        if (a != null) {</span>
<span class="nc bnc" id="L263" title="All 4 branches missed.">            if (a.getDerecho() == null &amp;&amp; a.getIzquierdo() == null) {</span>
<span class="nc" id="L264">                System.out.println(a.getElem());</span>
<span class="nc" id="L265">                lista2.insertar(a.getElem(), pos);</span>
            } else {

<span class="nc" id="L268">                fronteraRec(a.getDerecho(), lista2, pos);</span>
<span class="nc" id="L269">                fronteraRec(a.getIzquierdo(), lista2, pos);</span>
            }
        }
<span class="nc" id="L272">    }</span>

    public ArbolBinInt clon() {
<span class="nc" id="L275">        ArbolBinInt arbolRec = new ArbolBinInt();</span>
<span class="nc bnc" id="L276" title="All 2 branches missed.">        if (this.esVacio() != true) {</span>
<span class="nc" id="L277">            arbolRec.raiz = clonrecursivo(this.raiz);</span>
        }

<span class="nc" id="L280">        return arbolRec;</span>
    }

    private NodoArbolInt clonrecursivo(NodoArbolInt nodo) {
<span class="nc" id="L284">        NodoArbolInt aux = new NodoArbolInt();</span>
<span class="nc" id="L285">        aux.setElemento(nodo.getElem());</span>
<span class="nc bnc" id="L286" title="All 2 branches missed.">        if (nodo.getIzquierdo() != null) {</span>
<span class="nc" id="L287">            aux.setDerecho(clonrecursivo(nodo.getIzquierdo()));</span>
        }
<span class="nc bnc" id="L289" title="All 2 branches missed.">        if (nodo.getDerecho() != null) {</span>
<span class="nc" id="L290">            aux.setIzquierdo(clonrecursivo(nodo.getDerecho()));</span>
        }
<span class="nc" id="L292">        return aux;</span>
    }

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.12.202403310830</span></div></body></html>