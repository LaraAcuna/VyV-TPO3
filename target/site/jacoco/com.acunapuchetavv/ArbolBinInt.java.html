<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>ArbolBinInt.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">testingunidad</a> &gt; <a href="index.source.html" class="el_package">com.acunapuchetavv</a> &gt; <span class="el_source">ArbolBinInt.java</span></div><h1>ArbolBinInt.java</h1><pre class="source lang-java linenums">/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package com.acunapuchetavv;

<span class="fc" id="L8">public class ArbolBinInt {</span>

    //Se cambió de Private a Public para poder testear
    public NodoArbolInt raiz;

    public boolean insertar(int padre, int elem, char pos) {
<span class="fc" id="L14">        boolean exito = true;</span>
<span class="fc bfc" id="L15" title="All 2 branches covered.">        if (this.raiz == null) {</span>
<span class="fc" id="L16">            this.raiz = new NodoArbolInt(elem);</span>
<span class="fc" id="L17">        } else {</span>
<span class="fc" id="L18">            NodoArbolInt nodoPadre = obtenerNodo(this.raiz, padre);</span>
<span class="fc bfc" id="L19" title="All 2 branches covered.">            if (nodoPadre != null) {</span>
<span class="pc bpc" id="L20" title="1 of 4 branches missed.">                if (pos == 'i' &amp;&amp; nodoPadre.getIzquierdo() == null) {</span>
<span class="fc" id="L21">                    nodoPadre.setIzquierdo(new NodoArbolInt(elem));</span>
<span class="pc bpc" id="L22" title="3 of 4 branches missed.">                } else if (pos == 'd' &amp;&amp; nodoPadre.getDerecho() == null) {</span>
<span class="nc" id="L23">                    nodoPadre.setDerecho(new NodoArbolInt(elem));</span>
<span class="pc bpc" id="L24" title="2 of 4 branches missed.">                }else if(pos != 'i' &amp;&amp; pos != 'd'){</span>
<span class="fc" id="L25">                    exito = false;</span>
                }
<span class="fc" id="L27">            } else {</span>
<span class="fc" id="L28">                exito = false;</span>
            }
        }
<span class="fc" id="L31">        return exito;</span>
    }

    //Se cambió de Private a Public para poder testear
    public NodoArbolInt obtenerNodo(NodoArbolInt n, int buscado) {
<span class="fc" id="L36">        NodoArbolInt resultado = null;</span>
<span class="pc bpc" id="L37" title="1 of 2 branches missed.">        if (n != null) {</span>
<span class="nc bnc" id="L38" title="All 2 branches missed.">            if (n.getElem() == buscado) {</span>
<span class="nc" id="L39">                resultado = n;</span>
<span class="nc" id="L40">            } else {</span>
<span class="nc" id="L41">                resultado = obtenerNodo(n.getIzquierdo(), buscado);</span>
            }
<span class="nc bnc" id="L43" title="All 2 branches missed.">            if (resultado == null) {</span>
<span class="nc" id="L44">                resultado = obtenerNodo(n.getDerecho(), buscado);</span>
            }
        }
<span class="fc" id="L47">        return resultado;</span>
    }

    public boolean esVacio() {
<span class="fc" id="L51">        boolean vacio = true;</span>
<span class="pc bpc" id="L52" title="1 of 2 branches missed.">        if (this.raiz != null) {</span>
<span class="nc" id="L53">            vacio = false;</span>
        }
<span class="fc" id="L55">        return vacio;</span>
    }

    public int padre(int hijo) {
        int esPadre;
<span class="fc" id="L60">        NodoArbolInt padre = padreRecursivo(hijo, this.raiz);</span>
<span class="pc bpc" id="L61" title="1 of 2 branches missed.">        if (padre == null) {</span>
<span class="nc" id="L62">            esPadre = -1;</span>
<span class="nc" id="L63">        } else {</span>
            //original:
            //esPadre = padreRecursivo(hijo, this.raiz).getElem();
            //mejora
<span class="fc" id="L67">            esPadre = padre.getElem();</span>
        }
<span class="fc" id="L69">        return esPadre;</span>
    }

    //Para testear se hizo publico
    public NodoArbolInt padreRecursivo(int elem, NodoArbolInt n) {
<span class="fc" id="L74">        NodoArbolInt retornar = null;</span>
<span class="fc bfc" id="L75" title="All 2 branches covered.">        if (n != null) {</span>
<span class="fc bfc" id="L76" title="All 2 branches covered.">            if (n.getDerecho() != null) {</span>
<span class="fc bfc" id="L77" title="All 2 branches covered.">                if (n.getDerecho().getElem() == elem) {</span>
<span class="fc" id="L78">                    retornar = n;</span>
<span class="fc" id="L79">                } else {</span>
<span class="fc" id="L80">                    retornar = padreRecursivo(elem, n.getDerecho());</span>

                }
            }
<span class="fc bfc" id="L84" title="All 2 branches covered.">            if (n.getIzquierdo() != null) {</span>
<span class="pc bpc" id="L85" title="1 of 2 branches missed.">                if (n.getIzquierdo().getElem() == elem) {</span>
<span class="nc" id="L86">                    retornar = n;</span>
                }
            }
<span class="fc bfc" id="L89" title="All 2 branches covered.">            if (retornar == null) {</span>
<span class="fc" id="L90">                retornar = padreRecursivo(elem, n.getIzquierdo());</span>
            }
        }
<span class="fc" id="L93">        return retornar;</span>
    }

    public void vaciar() {
<span class="nc" id="L97">        this.raiz = null;</span>
<span class="nc" id="L98">    }</span>

    public int altura() {
        int p;
<span class="nc" id="L102">        p = alturaRecursiva(this.raiz);</span>
<span class="nc" id="L103">        return p;</span>
    }

    private int alturaRecursiva(NodoArbolInt n) {
<span class="nc" id="L107">        int cont = -1;</span>

<span class="nc bnc" id="L109" title="All 2 branches missed.">        if (n != null) {</span>
<span class="nc" id="L110">            int izq = alturaRecursiva(n.getIzquierdo());</span>
<span class="nc" id="L111">            int der = alturaRecursiva(n.getDerecho());</span>
<span class="nc" id="L112">            cont = Math.max(izq, der) + 1;</span>
        }
<span class="nc" id="L114">        return cont;</span>
    }

    public String toString() {
        String cad;
<span class="nc bnc" id="L119" title="All 2 branches missed.">        if (!this.esVacio()) {</span>
<span class="nc" id="L120">            cad = &quot;raiz: &quot; + this.raiz.getElem() + &quot;\n&quot;;</span>
<span class="nc" id="L121">            cad += &quot;========================\n&quot;;</span>
<span class="nc" id="L122">            cad += stringRecursivo(this.raiz) + &quot;\n&quot;;</span>
<span class="nc" id="L123">        } else {</span>
<span class="nc" id="L124">            cad = &quot;Arbol vacío&quot;;</span>
        }
<span class="nc" id="L126">        return cad;</span>
    }

    private String stringRecursivo(NodoArbolInt n) {
<span class="nc" id="L130">        String cadena = &quot;&quot;;</span>
<span class="nc bnc" id="L131" title="All 2 branches missed.">        if (n != null) {</span>
<span class="nc bnc" id="L132" title="All 2 branches missed.">            if (n.getIzquierdo() != null) {</span>
<span class="nc" id="L133">                cadena += &quot;Nodo: &quot; + n.getElem() + &quot; Hijo Izquierdo: &quot; + n.getIzquierdo().getElem();</span>
<span class="nc" id="L134">            } else {</span>
<span class="nc" id="L135">                cadena += &quot;Nodo: &quot; + n.getElem() + &quot; Hijo Izquierdo: vacio&quot;;</span>
            }
<span class="nc bnc" id="L137" title="All 2 branches missed.">            if (n.getDerecho() != null) {</span>
<span class="nc" id="L138">                cadena += &quot; Hijo Derecho: &quot; + n.getDerecho().getElem();</span>
<span class="nc" id="L139">            } else {</span>
<span class="nc" id="L140">                cadena += &quot; Hijo Derecho: vacio &quot;;</span>
            }
<span class="nc" id="L142">            cadena += &quot;\n&quot;;</span>
<span class="nc bnc" id="L143" title="All 2 branches missed.">            if (n.getIzquierdo() != null) {</span>
<span class="nc" id="L144">                cadena += stringRecursivo(n.getIzquierdo());</span>
            }
<span class="nc bnc" id="L146" title="All 2 branches missed.">            if (n.getDerecho() != null) {</span>
<span class="nc" id="L147">                cadena += stringRecursivo(n.getDerecho());</span>
            }
        }

<span class="nc" id="L151">        return cadena;</span>
    }

//    public int nivel(int n) {
//        return alturaRecursiva(obtenerNodo(this.raiz, n));
//    }
    public Lista preorden() {
<span class="nc" id="L158">        Lista lista = new Lista();</span>
<span class="nc" id="L159">        preordenAux(this.raiz, 1, lista);</span>
<span class="nc" id="L160">        return lista;</span>
    }

    private void preordenAux(NodoArbolInt nodo, int pos, Lista lista) {

<span class="nc bnc" id="L165" title="All 2 branches missed.">        if (nodo != null) {</span>
<span class="nc" id="L166">            lista.insertar(nodo.getElem(), pos);</span>
<span class="nc" id="L167">            preordenAux(nodo.getIzquierdo(), pos + 1, lista);</span>
<span class="nc" id="L168">            preordenAux(nodo.getDerecho(), lista.longitud() + 1, lista);</span>
        }

<span class="nc" id="L171">    }</span>

    public Lista posOrden() {
<span class="nc" id="L174">        Lista lista = new Lista();</span>
<span class="nc" id="L175">        posOrdenAux(this.raiz, lista);</span>
<span class="nc" id="L176">        return lista;</span>
    }

    private void posOrdenAux(NodoArbolInt nodo, Lista lista1) {
<span class="nc bnc" id="L180" title="All 2 branches missed.">        if (nodo != null) {</span>
<span class="nc" id="L181">            posOrdenAux(nodo.getIzquierdo(), lista1);</span>
<span class="nc" id="L182">            posOrdenAux(nodo.getDerecho(), lista1);</span>
<span class="nc" id="L183">            lista1.insertar(nodo.getElem(), lista1.longitud() + 1);</span>
        }
<span class="nc" id="L185">    }</span>

    public Lista inOrden() {
<span class="nc" id="L188">        Lista lista = new Lista();</span>
<span class="nc" id="L189">        inOrdenAux(this.raiz, lista);</span>
<span class="nc" id="L190">        return lista;</span>
    }

    private void inOrdenAux(NodoArbolInt nodo, Lista lista2) {
<span class="nc bnc" id="L194" title="All 2 branches missed.">        if (nodo != null) {</span>
<span class="nc" id="L195">            inOrdenAux(nodo.getIzquierdo(), lista2);</span>
<span class="nc" id="L196">            lista2.insertar(nodo.getElem(), lista2.longitud() + 1);</span>
<span class="nc" id="L197">            inOrdenAux(nodo.getDerecho(), lista2);</span>
        }
<span class="nc" id="L199">    }</span>

    private int nivel(NodoArbolInt nodo, int elem) {
        int x;

<span class="nc bnc" id="L204" title="All 2 branches missed.">        if (nodo == null) {</span>
            //Caso que no se encuentre el elem;
<span class="nc" id="L206">            x = Integer.MIN_VALUE;</span>
<span class="nc bnc" id="L207" title="All 2 branches missed.">        } else if (nodo.getElem() == elem) {</span>
            //Caso base;
<span class="nc" id="L209">            x = 0;</span>
<span class="nc" id="L210">        } else {</span>
<span class="nc" id="L211">            x = nivel(nodo.getIzquierdo(), elem); //Recorre la izq</span>
<span class="nc bnc" id="L212" title="All 2 branches missed.">            if (x == Integer.MIN_VALUE) {</span>
<span class="nc" id="L213">                x = nivel(nodo.getDerecho(), elem); // Recorre la der</span>
            }
        }
<span class="nc bnc" id="L216" title="All 2 branches missed.">        if (x != Integer.MIN_VALUE) {</span>
<span class="nc" id="L217">            x++;</span>
        }
<span class="nc" id="L219">        return x;</span>

    }

    public int nivel(int elem) {

<span class="nc" id="L225">        return nivel(this.raiz, elem) - 1;</span>
    }

    public boolean verificarPatron(Lista listPatron) {
        boolean res;
<span class="nc" id="L230">        res = verificarRec(this.raiz, listPatron, 1);</span>
<span class="nc" id="L231">        return res;</span>
    }

    private boolean verificarRec(NodoArbolInt a, Lista lista, int pos) {
<span class="nc" id="L235">        boolean aux = false;</span>
<span class="nc bnc" id="L236" title="All 2 branches missed.">        if (pos &gt; lista.longitud()) {</span>

<span class="nc" id="L238">            aux = true;</span>
<span class="nc bnc" id="L239" title="All 4 branches missed.">        } else if (a != null &amp;&amp; (a.getElem() == lista.recuperar(pos))) {</span>
<span class="nc" id="L240">            aux = verificarRec(a.getIzquierdo(), lista, pos + 1);</span>
<span class="nc bnc" id="L241" title="All 2 branches missed.">            if (!aux) {</span>
<span class="nc" id="L242">                aux = verificarRec(a.getDerecho(), lista, pos + 1);</span>
            }
        }
<span class="nc" id="L245">        return aux;</span>
    }

    public Lista frontera() {
<span class="nc" id="L249">        Lista lista = new Lista();</span>
<span class="nc" id="L250">        System.out.println(lista);</span>
<span class="nc" id="L251">        int pos = 1;</span>
<span class="nc" id="L252">        fronteraRec(this.raiz, lista, pos);</span>

<span class="nc" id="L254">        return lista;</span>
    }

    private void fronteraRec(NodoArbolInt a, Lista lista2, int pos) {
<span class="nc bnc" id="L258" title="All 2 branches missed.">        if (a != null) {</span>
<span class="nc bnc" id="L259" title="All 4 branches missed.">            if (a.getDerecho() == null &amp;&amp; a.getIzquierdo() == null) {</span>
<span class="nc" id="L260">                System.out.println(a.getElem());</span>
<span class="nc" id="L261">                lista2.insertar(a.getElem(), pos);</span>
<span class="nc" id="L262">            } else {</span>

<span class="nc" id="L264">                fronteraRec(a.getDerecho(), lista2, pos);</span>
<span class="nc" id="L265">                fronteraRec(a.getIzquierdo(), lista2, pos);</span>
            }
        }
<span class="nc" id="L268">    }</span>

    public ArbolBinInt clon() {
<span class="nc" id="L271">        ArbolBinInt arbolRec = new ArbolBinInt();</span>
<span class="nc bnc" id="L272" title="All 2 branches missed.">        if (this.esVacio() != true) {</span>
<span class="nc" id="L273">            arbolRec.raiz = clonrecursivo(this.raiz);</span>
        }

<span class="nc" id="L276">        return arbolRec;</span>
    }

    private NodoArbolInt clonrecursivo(NodoArbolInt nodo) {
<span class="nc" id="L280">        NodoArbolInt aux = new NodoArbolInt();</span>
<span class="nc" id="L281">        aux.setElemento(nodo.getElem());</span>
<span class="nc bnc" id="L282" title="All 2 branches missed.">        if (nodo.getIzquierdo() != null) {</span>
<span class="nc" id="L283">            aux.setDerecho(clonrecursivo(nodo.getIzquierdo()));</span>
        }
<span class="nc bnc" id="L285" title="All 2 branches missed.">        if (nodo.getDerecho() != null) {</span>
<span class="nc" id="L286">            aux.setIzquierdo(clonrecursivo(nodo.getDerecho()));</span>
        }
<span class="nc" id="L288">        return aux;</span>
    }

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.12.202403310830</span></div></body></html>